什么是纯虚函数和抽象类？它们如何与虚函数表和虚指针相关联？

通过一个包含纯虚函数的抽象类示例，说明它的虚函数表和虚指针的情况。

为什么包含纯虚函数的类不能实例化？请提供解释。



# 纯虚函数
纯虚函数是在基类中声明的虚函数，但没有提供实现。它用 = 0 表示。
# 抽象类
抽象类中至少有一个纯虚函数。如果一个类中有纯虚函数，那么这个类就是抽象类。
```C++
#include <iostream>
using namespace std;
class animal
{   
    public:
    virtual void speak() = 0;
    virtual void run() = 0;
};
class dog:public animal
{
    public:
    virtual void speak()
    {
        cout << "汪汪汪" << endl;
    }
    virtual void run()
    {
        cout << "dog run" << endl;
    }
};
int main()
{           
    animal *p = new dog;
    p->speak();
    p->run();
}
```
dog对象布局中，第一个存放的为一个虚函数指针，指向animal的虚函数表，虚函数表中先后存放着`speak()`和`run()`两个函数，通过调用指向dog的animal指针，可以调用到dog中对应函数。
# 虚函数表
每一个包含虚函数的类都有一个与之相关联的虚函数表。虚函数表是一个指向虚函数的指针数组。当类有至少一个虚函数时，编译器会在**对象的内存布局中添加一个指向虚函数表的指针**（虚指针）。

# 虚函数指针：
每个包含虚函数的对象都有一个指向其类的虚函数表的虚指针。当调用虚函数时，编译器使用这个虚指针来查找正确的函数在虚函数表中的位置。

为什么包含纯虚函数的类不能实例化？
- 这个类没有为纯虚函数提供实际的实现。该类的实现是不完整的
- 创建一个这样的对象可能导致未定义的行为或无法预测的结果，这意味着该类的功能是不完整的
- 这些未实现的函数需要由派生类提供具体的实现，以便该类的实例化对象可以调用它们