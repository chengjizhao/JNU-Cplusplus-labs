静态库和动态库的区别

### 运行过程

静态库和动态库的最大区别是，静态库链接的时候把库直接加载到程序中,而动态库链接的时候，它只是保留接口，将动态库与程序代码独立，这样就可以提高代码的可复用度和降低程序的耦合度。

静态库在程序编译时会被连接到目标代码中，程序运行时将不再需要该静态库。

动态库在程序编译时并不会被连接到目标代码中，而是在程序运行是才被载入，因此在程序运行时还需要动态库存在。无论静态库，还是动态库，都是由.o文件创建的。因此，我们必须将源程序hello.c通过gcc先编译成.o文件。

### 链接方式：

静态库：在链接时，目标程序会将静态库的代码和数据拷贝到可执行文件中，因此可执行文件会变大。这意味着可执行文件不需要依赖于原始的静态库文件。

动态库：在链接时，目标程序仅包含对动态库的引用，动态库的代码和数据在程序运行时由操作系统加载到内存中。因此，可执行文件较小，并且依赖于动态库文件。

### 内存占用：

静态库：每个使用了相同静态库的程序都会有一份该静态库的拷贝，因此可能会占用较多的内存。静态库的代码在编译的过程中已经载入到可执行文件中，所以最后生成的可执行文件相对较大。

动态库：动态库的代码和数据只需加载到内存一次，所有使用了这个动态库的程序共享同一份内存，因此能够节约内存空间。动态库的代码在可执行程序运行时才载入内存，在编译过程中仅简单的引用，所以最后生成的可执行文件相对较小。
